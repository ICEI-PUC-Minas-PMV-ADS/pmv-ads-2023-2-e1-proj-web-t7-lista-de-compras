<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./stylesListas.css">
    <title>Listas</title>
</head>

<body>
    <div class="head">
        <button class="bt">Consultar Saldo</button>
        <img id="logo" src="./logo.png" />
        <button class="bt">Finalizar Compra</button>
    </div>
    <div class="div-principal">
        <button style="width: 20rem;height:3.5rem;font-size:18px;" class="bt" id="add-bt"
            onclick="newProduct()">Adicionar Produto </button>

        <div id="formulario">
            <span onclick="closeForm()">X</span>
            <form>
                <label>Nome:</label>
                <input id="name" type="text" placeholder="Suco de Caixinha" required>
                <label>Preço Unitário:</label>
                <input id="price" step="0.01" pattern="\d+(\.\d{1,2})?" type="number" placeholder="R$ 3,00" min="0"
                    required>
                    <label>Quantidade:</label>
                <input id="qntd" step="1" pattern="\d+(\.\d{1,2})?" type="number" placeholder="Adicione a quantidade" min="0"
                    required>
                <select id="select" class="cat">
                    <option value="" disabled selected>Categoria</option>
                    <option value="Verdura">Verdura</option>
                    <option value="Higiene">Higiene</option>
                    <option value="Carne">Carne</option>
                    <option value="Fruta">Fruta</option>
                    <option value="Bebida">Bebidas</option>
                    <option value="Doces">Doces e Guloseimas</option>
                    <option value="Produto de Limpeza">Produtos de Limpeza</option>
                </select>
                <button type="submit" class="bt" onclick="validationForm()">Salvar</button>
            </form>
        </div>
        <div class="div-itens">
            <input class="filtro-nome" />
            <select class="categorias">
                <option value="" disabled selected>Categorias</option>"
                <option>Verdura</option>
                <option>Higiene</option>
                <option>Carne</option>
                <option>Fruta</option>
                <option>Bebidas</option>
            </select>
            <button class="bt-lupa"><img id="lupa" src="./lupa.png" /></button>
        </div>
        <div class="div-list">
            <div class="legenda">
                <p>Nome:</p>
                <p>Preço:</p>
                <p>Quantidade:</p>
                <p></p>
            </div>
            <script>
                const productList = JSON.parse(localStorage.getItem('produtos'))

                let containerList = document.getElementsByClassName("div-list")[0]

                productList.forEach(function (product) {
                    let productDiv = document.createElement('div')

                    let produtoName = document.createElement('p');
                    produtoName.innerHTML = product.name
                    produtoName.classList.add('nameP')

                    let produtoPrice = document.createElement('p');
                    produtoPrice.innerHTML = `R$ ${product.price}`

                    let quantity = document.createElement('p')
                    quantity.innerHTML = product.qntd

                    let deleteProduct = document.createElement('button')
                    deleteProduct.classList.add('bt-delete')

                    let trashImg = document.createElement('img')
                    trashImg.classList.add('imgTrash')

                    trashImg.src = '../Home/trash.png'
                    productDiv.classList.add('list')


                    productDiv.appendChild(produtoName)
                    productDiv.appendChild(produtoPrice)
                    productDiv.appendChild(quantity)
                    productDiv.appendChild(deleteProduct)
                    
                    deleteProduct.appendChild(trashImg)

                    containerList.appendChild(productDiv)
                })
            </script>
        </div>
    </div>
    <script src="./scripts.js"></script>
</body>

</html>